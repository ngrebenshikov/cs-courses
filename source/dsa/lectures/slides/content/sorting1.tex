Хакасский государственный университет им. Н.Ф. Катанова\newline
Структуры и алгоритмы обработки данных\newline
\title{Лекция: Сортировка. Часть №1.}
\date{}
\author{Николай Гребенщиков, www.grebenshikov.ru}
\maketitle

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка} - процесс перестановки объектов заданной совокупности в определенном порядке (возрастающем или убывающем).

	\textbf{Целью сортировки} обычно является облегчение последующего поиска элементов в отсортированном множестве.
	
	В зависимости от объема и структуры данных методы сортировки подразделяются на:
	\begin{itemize}
		\item Внутренние - сортировка массивов
		\item Внешние - сортировка файлов
	\end{itemize}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Формальное определение задачи сортировки}
	
	\textbf{Дано:} $N$ объектов $a_1,a_2,\ldots,a_N$
	
	\textbf{Необходимо:} упорядочить заданные объекты, т.е. переставить их в такой последовательности $a_{p_1},\ldots,a_{p_N}$, чтобы их ключи расположились в неубывающем порядке $k_{p_1} \leq k_{p_2} \leq \ldots \leq k_{p_N}$.
	
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Устойчивость сортировки}
	
	При устойчивой сортировке относительный порядок элементов с одинаковыми ключами не меняется.
	
	Если $k_{p_i} = k_{p_j}$ и $i < j$, то $p_i < p_j$.
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Внутренние сортировки}
	\begin{itemize}
		\item вставка (включение);
		\item выбор;
		\item обмен;
		\item подсчет;
		\item разделение;
		\item слияние.
	\end{itemize}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка простыми вставками}

	\begin{tabular}[t]{l l l l l l l l l l}
		40 & | & \textbf{51} & 8 & 38 & 90 & 14 & 2 & 63 \\ \hline
		40 & 51 & | & \textbf{8} & 38 & 90 & 14 & 2 & 63 \\ \hline
		8 & 40 & 51 & | & \textbf{38} & 90 & 14 & 2 & 63 \\ \hline
		8 & 38 & 40 & 51 & | & \textbf{90} & 14 & 2 & 63 \\ \hline
		8 & 38 & 40 & 51 & 90 & | & \textbf{14} & 2 & 63 \\ \hline
		8 & 14 & 38 & 40 & 51 & 90 & | & \textbf{2} & 63 \\ \hline
		2 & 8 & 14 & 38 & 40 & 51 & 90 & | & \textbf{63} \\ \hline
		2 & 8 & 14 & 38 & 40 & 51 & 63 & 90 & | \\
	\end{tabular}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка простыми вставками}

	\includegraphics[width=1\textwidth]{content/sorting/sort_ins_list.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Анализ сортировки простыми вставками}
	
	Наихудший случай: упорядоченный в обратном порядке массив
	
	Количество сравнений:
	
	$C(N) = 1 + 2 + 3 + \ldots + N - 1 = \frac{N \cdot (N - 1)}{2} = O(N^2)$
	
	Количество пересылок:
	
	$M(N) = \frac{N \ cdot (N - 1)}{2} + 2 \cdot (N - 1) = O(N^2)$
	
	\textbf{Общее время:}	$T(N) = C(N) + M(N) = O(N^2)$
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка бинарными вставками}
	
	Для поиска места используем бинарный поиск.
	
	Количество сравнений:	$C(N) = O(N \cdot log(N))$
	
	Количество пересылок:	$M(N) = O(N^2)$
	
	\textbf{Общее время:}	$T(N) = C(N) + M(N) = O(N^2)$
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка вставками с убывающим шагом. Метод Шелла.}
	
	На семинар.
	
\end{slide}


% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка простым выбором}

	\begin{tabular}[t]{l l l l l l l l l l}
		| & 40 & 51 & 8 & 38 & 90 & 14 & \textbf{2} & 63 \\ \hline
		2 & | & 40 & 51 & \textbf{8} & 38 & 90 & 14 & 63 \\ \hline
		2 & 8 & | & 40 & 51 & 38 & 90 & \textbf{14} & 63 \\ \hline
		2 & 8 & 14 & | & 40 & 51 & \textbf{38} & 90 & 63 \\ \hline
		2 & 8 & 14 & 38 & | & \textbf{40} & 51 & 90 & 63 \\ \hline
		2 & 8 & 14 & 38 & 40 & | & \textbf{51} & 90 & 63 \\ \hline
		2 & 8 & 14 & 38 & 40 & 51 & | & 90 & \textbf{63} \\ \hline
		2 & 8 & 14 & 38 & 40 & 51 & 63 & | & \textbf{90} \\ \hline
		2 & 8 & 14 & 38 & 40 & 51 & 63 & 90 & | \\ \hline
	\end{tabular}	
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка простым выбором}

	\includegraphics[width=1\textwidth]{content/sorting/sort_sel_list.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Анализ сортировки простым выбором}
	
	Наихудший случай: упорядоченный в обратном порядке массив
	
	Количество сравнений:
	
	$C(N) = (N-1) + (N-2) + \ldots + 1 = \frac{N \cdot (N - 1)}{2} = O(N^2)$
	
	Количество пересылок:
	
	$M(N) = N - 1 = O(N)$
	
	\textbf{Общее время:}	$T(N) = C(N) + M(N) = O(N^2)$
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Пирамидальная сортировка} - сортировка выбором
	
	\textbf{Идея:} поддерживать область массива в которой ищем в виде сбалансированного дерева поиска (пирамиды, кучи, heap).
	
	В $\left\langle h_1, \ldots, h_n \right\rangle$ элемент $h_i$ образует пирамиду если:
	\begin{itemize}
		\item $(2i \leq n \Rightarrow h_i \geq h_{2i}) \wedge h_{2i}$ образует пирамиду;
		\item $(2i + 1 \leq n \Rightarrow h_i \geq h_{2i+1}) \wedge h_{2i+1}$ образует пирамиду;
	\end{itemize}
	
	Элементы $h_{\frac{n}{2} + 1}, \ldots, h_n$ всегда образуют тривиальные пирамиды.
	
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Полная пирамида для 15-ти элементов}

	\includegraphics[width=0.7\textwidth]{content/sorting/heap15.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Полная пирамида для 12-ти элементов}

	\includegraphics[width=0.7\textwidth]{content/sorting/heap12.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Алгоритм пирамидальной сортировки}

	\begin{enumerate}
		\item Входную последовательность превращаем в пирамиду.
		\item Входная и готовая последовательность хранятся в одном массиве. Берем голову пирамиды и помещаем в готовую последовательность. Затем восстанавливаем пирамиду. И 	повторяем до тех пор пока вся посследовательность не будет обработана.
	\end{enumerate}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Просеивание}

	\includegraphics[width=0.7\textwidth]{content/sorting/heap_sift_list.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Просеивание}

	\includegraphics[width=0.7\textwidth]{content/sorting/heap15.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Построение пирамиды}

	\includegraphics[width=1\textwidth]{content/sorting/heap_step1.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка пирамиды}

	\includegraphics[width=0.9\textwidth]{content/sorting/heap_sort_list.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка пирамиды (1 из 2)}

	\includegraphics[width=0.9\textwidth]{content/sorting/heap_step2_1.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка пирамиды (2 из 2)}

	\includegraphics[width=0.9\textwidth]{content/sorting/heap_step2_2.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Анализ пирамидальной сортировки}
	
	Время просеивания: $O(log(N)$, т.к. высота пирамиды из $N$ элементов равна $O(log(N))$

	При просеивании $C(N) = 2 \cdot M(N)$

	Время подготовки пирамиды: $O(N \cdot log(n))$
	
	Время сортировки: $O(N \cdot log(n))$
	
	\textbf{Общее время:}	$T(N) = O(N \cdot log(n))$
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Сортировка простым обменом. Метод пузырька.}
	
	\includegraphics[width=0.9\textwidth]{content/sorting/bubble_sort_list.png}
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Анализ сортировки простым обменом}
	
	Наихудший случай: упорядоченный в обратном порядке массив
	
	Количество сравнений:
	
	$C(N) = (N-1) + (N-2) + \ldots + 1 = \frac{N \cdot (N - 1)}{2} = O(N^2)$
	
	Количество пересылок:
	
	$M(N) = C(N) = O(N^2)$
	
	\textbf{Общее время:}	$T(N) = C(N) + M(N) = O(N^2)$
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
	\textbf{Улучшенная сортировка обменом. Шейкер-сортировка.}
	
	На семинар.
\end{slide}

% ----------------------------------------------------------------
\begin{slide}
\textbf{Список литературы}
\begin{itemize}
	\item Цикова В.А., Чурина Т.Г. Методы программирования: перестановки, поиск и сортировка: Учеб. пособие / Новосиб. гос. ун-т. Новосибирск, 2006. Ч.2. 58 с. \textbf{сс.26-41}.
	\item Ахо А., Хопкрофт Д., Ульман Д. Структуры данных и алгоритмы. - М. : Издательский дом ``Вильямс'', 2000. \textbf{сс.228-234, 244-246}.
	\item Кормен Т., Лейзерсон Ч., Ривест Р., Штайн К. Алгоритмы: построение и анализ, 2-е издание. - М. : Издательский дом ``Вильямс'', 2007. \textbf{сс.173-197}.
	\item Кнут Д, Искусство программирования, том 3. Сортировка и поиск, 2-е изд. - М. : Издательский дома ``Вильямс'', 2000. \textbf{сс.92-180}.
\end{itemize}
\end{slide}


